### www.google.com을 주소창에 입력했을 때 일어나는 일은?
    1. DNS를 이용해서 IP주소를 알아낸다.

    2. 이 IP 주소를 이용해 TCP Connection을 맺는다.

    3. HTTP 프로토콜에 맞춰 Get 메소드를 이용하는 HTTP Request가 만들어진다.

    4. TCP/IP 4계층을 위에서부터 타고 내려가며 각 계층마다 헤더가 붙여진다.

       (이 때 각 계층에서 1개 이상의 헤더가 붙여질 수 있다. EX) ICMP를 이용한다면 IP헤더가 붙기전에 ICMP 헤더가 붙는다.)

    5. 3계층에 있는 TCP를 통해 TCP의 여러 정보들과 포트번호가 붙는다.

    6. 2계층에 있는 IP를 통해 IP주소가 붙여진다.

    7. 1계층에서는 이더넷 프로토콜을 통해 출발지 MAC주소와 도착지 MAC주소가 붙는다.

       만약 IP주소에 대응하는 MAC 주소를 알지 못한다면 ARP를 이용해서 MAC주소를 알아낸다.
       이 떄 [www.google.com]은 외부 네트워크에 있는 IP이므로 ARP는 이 PC의 게이트웨이의 MAC주소를 알기 위해 이루어진다.

    8. 완성된 데이터가 전기 신호로 변환되어 pc가 연결되어 있는 L2 스위치로 흘러간다.

    9. L2 스위치는 도착한 데이터를 이진형태로 변환시킨 후 OSI 7계층 기준으로 2계층까지 열어서 도착지 MAC 주소를 확인한다.

    10. 도착지 MAC 주소가 자신의 MAC 주소 테이블에 매핑되어 있다면 매핑되어 있는 포트로 데이터를 보내고, 
        매핑되어 있지 않다면 이 스위치에 데이터를 송신한 곳 이외에 모든 곳으로 데이터를 보낸다.(flooding) 이 때 데이터는 처음 보내진 그대로이다.

    11. 게이트웨이가 라우터라고 가정했을 때, 라우터는 데이터를 수신하고 데이터를 3계층까지 열어서 도착지 IP주소를 확인한다.

        만약 도착지 IP주소가 라우팅 테이블에 매핑되어 있다면 매핑되어 있는 IP주소와 매핑되는 MAC 주소를 찾기 위해 ARP Cache Table을 뒤진다.
        ARP Cache Table에 MAC 주소가 연결되어 있으면 이 MAC 주소를 이용해서 도착한 데이터의 이더넷 헤더를 
        출발지 MAC 주소는 자신의 MAC 주소로 도착지 MAC 주소는 매핑된 MAC 주소로 고친다. 
        이렇게 고쳐진 데이터를 방금 알아낸 MAC주소가 연결되어 있는 포트로 보낸다.(포트는 라우터나 스위치에 연결부를 말한다)
        
        만약 도착지 IP주소가 라우팅 테이블에 매핑되어 있지 않다면 디폴트 주소로 보내고, 디폴트 주소도 없다면 데이터는 폐기된다.
        만약 ARP cache 테이블에 매핑된 MAC 주소가 없다면 ARP를 수행한다.
        
    12. 데이터가 다른 라우터로 전달되어 왔다. 이 라우터는 위와 마찬가지로 라우팅 테이블과 ARP Cache table을 이용해 다음으로 보내야할 라우터의 위치를 알아낸 후 데이터를 보낸다.

    13. 데이터가 전달전달되어 실제 www.google.com의 서버가 있는 Local Network로 들어가는 라우터에 도착한다면, 방화벽이 보안 규칙에 어긋난 점은 없는지 확인한다.

    14. 방화벽을 무사히 통과하면 데이터는 www.google.com의 서버에 도착하게 되고 데이터가 다시 역순으로 까진다. 
        이 때 3계층에서 포트 번호를 알아낸 후 데이터는 해당하는 포트 번호에 있는 애플리케이션으로 보내진다.

    15. HTTP Request를 받은 서버 어플리케이션이 데이터를 처리한 후, HTTP Response를 만드는데, 이 안에는 www.google.com의 html 파일이 메시지 바디로 들어있다.

    16. 이 HTTP RESPONSE는 올 때와 동일한 과정을 거쳐서 내 PC로 돌아오게 되고 내 브라우저는 이 HTMl의 백본을 렌더링한다.

    17. 렌더링 과정에서 image나 CSS, Javascript와 같은 정적 파일들을 다시 요청하는데,
        이 때는 TCP Connection을 다시 맺을 필요없이 Connection을 재사용한다. 
        이 Connection은 정해진 시간 이후에 폐기되는데 보통 1분정도이다.

    18. 모든 파일들은 HTML과 함께 렌더링되고 우리는 google의 홈페이지를 웹브라우저에서 보게 된다.